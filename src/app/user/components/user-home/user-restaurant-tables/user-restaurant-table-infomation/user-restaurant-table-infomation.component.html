<div id="booking" class="section">
    <div class="section-center">
        <div class="container">
            <div class="row">
                <div class="booking-form">
                    <form [formGroup]="reservationForm">
                        <div class="row no-margin">
                            <div class="col-md-2">
                                <div class="form-group">
                                    <span class="form-label">Số khách</span>
                                    <select class="form-control" formControlName="numberOfGuests">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-7">
                                <div class="row no-margin">
                                    <div class="col-md-5">
                                        <div class="form-group">
                                            <span class="form-label">Ngày tới</span>
                                            <input class="form-control" type="date" id="selectedDate"
                                                formControlName="selectedDate" [min]="minDate" [max]="maxDate" required>
                                        </div>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="form-group">
                                            <span class="form-label">Thời gian tới</span>
                                            <input class="form-control" type="time" id="selectedTime"
                                                formControlName="selectedTime" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row no-margin">
                                    <div class="col-md-5">
                                        <div class="form-group">
                                            <span class="form-label">Định dạng VN</span>
                                            <p>{{ reservationForm.get('selectedDate')?.value | date: 'dd-MM-yyyy' }}</p>
                                        </div>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="form-group">
                                            <span class="form-label">Thời gian đi</span>
                                            <input class="form-control" type="time" id="outTime"
                                                formControlName="outTime" required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-btn">
                                    <button class="submit-btn" (click)="bookingTable()">Đặt bàn</button>
                                </div>

                            </div>
                        </div>
            
                        <input class="form-control" formControlName="searchKeyWord" placeholder="Search... yyyy-MM-dd HH:mm:ss" (input)="onSearch()"/>

                        <ng-container *ngIf="isSearch; else elseTemplate">
                            <div *ngFor="let reservation of searchReservations">
                                <div>{{ reservation.reservationDate | date: 'dd-MM-yyyy | HH:mm:ss' }} - {{
                                    reservation.outTime | date: 'HH:mm:ss' }}</div>
                            </div>
                        </ng-container>
                        <ng-template #elseTemplate>
                            <div *ngFor="let reservation of reservations">
                                <div>{{ reservation.reservationDate | date: 'dd-MM-yyyy | HH:mm:ss' }} - {{
                                    reservation.outTime | date: 'HH:mm:ss' }}</div>
                            </div>
                        </ng-template>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container">
  <h1>Kho</h1>
  <form [formGroup]="menuItemIngredientForm" (ngSubmit)="addMenuItemIngredient()">
    <div class="mb-3">
      <a class="nav-link"
        routerLink="/admin/ingredients">Thêm nguyên liệu</a>
      <div class="mb-3">
        <select class="form-select" aria-label="Default select example" formControlName="ingredientId">
          <option value="">Chọn nguyên liệu</option>
          <option *ngFor="let ing of ingredients " [value]="ing.ingredientId">{{ ing.name }}</option>
        </select>
      </div>
    </div>
    <div class="mb-3">
      <a class="nav-link" routerLink="/admin/products">Thêm món</a>
      <div class="mb-3">
        <select class="form-select" aria-label="Default select example" formControlName="menuItemId">
          <option value="">Chọn nhà sản xuất</option>
          <option *ngFor="let product of products" [value]="product.menuItemId"> {{ product.name }}
          </option>
        </select>
      </div>
    </div>
    <div class="mb-3">
      <label for="exampleInputPassword1" class="form-label">Số lượng</label>
      <div class="mb-3">
        <input type="number" class="form-control" formControlName="Số lượng" placeholder="Nhập số lượng ...">
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
  </form>
  <div class="col-2">
    <select class="form-select" (change)="onTableSizeChange($event)">
      <option value="">Page</option>
      <option *ngFor="let size of tableSizes">
        {{size}}
      </option>
    </select>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Ingredient</th>
        <th scope="col">Supplier</th>
        <th scope="col">Chức năng</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let menuItemIngredient of menuItemIngredients | paginate: {itemsPerPage: tableSize, currentPage: page, totalItems: count}; let i = index">
        <td>{{menuItemIngredient.menuItemIngredientId}}</td>
        <td>{{ (getIngredientById(menuItemIngredient.ingredientId) | async)?.name }}</td>
        <td>{{ (getProductById(menuItemIngredient.menuItemId) | async)?.name }}</td>
        <td><button type="button" class="btn btn-outline-primary"
            (click)="openMenuItemIngredientDetailModal(menuItemIngredient)">Edit</button>
          <button type="button" class="btn btn-outline-danger" (click)="deleteMenuItemIngredient(menuItemIngredient)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="text-center">
    <pagination-controls previousLabel="Prev" nextLabel="Next"
      (pageChange)="onTableDataChange($event)"></pagination-controls>
  </div>
</div>